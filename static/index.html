<!DOCTYPE html>
<html>
<head>
	<title>Driver HUD</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body onclick="location.reload()"> <!-- Tap anywhere to reload in case something breaks -->
	<div id="gauge">
        <canvas id="canvasId" width="800px" height="480px"></canvas>
    </div>
	<script src="config.js"></script>
    <script src="gauge.js"></script>
    <script src="faults.js"></script>
    <script>
        let batteryCurrent = new Gauge(config.batteryCurrent);
        let motorCurrent = new Gauge(config.motorCurrent);
        let solarCurrent = new Gauge(config.solarCurrent);
        let minCellVolt = new Gauge(config.minCellVolt);
        let soc = new Gauge(config.soc);
        let speed = new Gauge(config.speed);
        let time = new Gauge(config.time);
        let packVolt = new Gauge(config.packVolt);
        let minPackTemp = new Gauge(config.minPackTemp);
        let maxPackTemp = new Gauge(config.maxPackTemp);
        let motorTemp = new Gauge(config.motorTemp);
        let maxCellVolt = new Gauge(config.maxCellVolt);

		let faults = new FaultBox({
			"canvasId": "canvasId"
		});

        batteryCurrent.setValue(2.4);
        motorCurrent.setValue(2.4);
        solarCurrent.setValue(2.4);
        minCellVolt.setValue(3.6);
        soc.setValue(55);
        speed.setValue(30);
        time.setValue("10:30pm");
        packVolt.setValue(90);
        minPackTemp.setValue(22);
        maxPackTemp.setValue(26);
        motorTemp.setValue(45);
        maxCellVolt.setValue(5);
		faults.setErrorMessages([
			"Pack Too Hot",
			"Another",
			"Motor Controller Too Hot",
			"SOC Low",
			"Pack Volt Low",
			"Open Current",
			"Panic",
			"Max Cell > 5V",
			"Another",
		]);

		setTimeout(() => {
			faults.setErrorMessages([]);	
		}, 5000);
    </script>
</body>
</html>
